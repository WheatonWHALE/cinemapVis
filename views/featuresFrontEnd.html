<!DOCTYPE html>
<html>
	<head>
		<title>Features</title>
		<link href="../featuresFrontEnd.css" rel="stylesheet" type="text/css">
		<script src ="../jquery-1.11.1.min.js"> </script>
	</head>

	<body>
		<div id ="header">
		<p></p>
			<p>Features</p>
		</div>
		<div class="content">
			<div class="features">
				<div class="firstCol">
					<p>Title</p>
				</div>
				<div class="secCol">
					<p>External</p>
				</div>
			</div>			
		</div> <!-- ends content div -->
		<script type="text/javascript">
			
			$( document ).ready(function() {
    			console.log( "ready!" );
    			getAllFeatures();
			}); // ends ready

			function populateContentDiv (data) {
				$.each(data, function(index, val) {
					ID = data[index]['_id'];
					argument = data[index]['_id'];
					console.log(ID);
					$('.content').append("<div class = 'features', id =" + data[index]['_id'] + "><div class = 'title'><br>" + data[index]['title'] + "<br></div><div class = 'external'><br>" + data[index]['external'] + "<button class = 'delete', onclick = "+"DeleteDomElement('"+argument+"')>Remove</button><br></div></div>");
				}); // ends each
			}; // ends function

			function getAllFeatures () {
				$.ajax({
					type: 'GET',
					url: 'http://infinite-citadel-8572.herokuapp.com/api/0.1/features/',
					success: function(data) {
						console.log("Getting all the features");
						populateContentDiv(data);
					} // ends success
				}); // ends ajax
			}; // ends function

			function DeleteDomElement (idToDelete) {
			 	console.log(idToDelete);
			 	$("#"+idToDelete).remove();

			 	$.ajax({
			 		type: 'DELETE',
			 		url: 'http://infinite-citadel-8572.herokuapp.com/api/0.1/features/',
			 		success: function(idToDelete) {
			 			// body...
			 		}
			 	})
			}; // ends function

		</script>

	</body>
</html>
